<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>AP — Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" />
    <script defer src="site/js/common.js"></script>
</head>
<body class="bg-base-100 text-base-content">
<main class="container mx-auto px-4">
    <section class="hero min-h-[48vh] rounded-2xl mt-6"
             style="background: radial-gradient(circle at 20% 10%, rgba(25,102,171,0.15), transparent 50%), radial-gradient(circle at 80% 20%, rgba(25,102,171,0.12), transparent 50%);">
        <div class="hero-content text-center">
            <div class="max-w-3xl">
                <h1 class="text-4xl font-bold">Advanced Programming (AP)</h1>
                <p class="py-4 opacity-80">Slides, exercises, workshops, and multi-phase projects — organized and delightful.</p>
                <div class="flex justify-center gap-2">
                    <a class="btn" href="site/classes.html">Slides</a>
                    <a class="btn btn-outline" href="site/projects.html">Projects</a>
                    <a class="btn btn-ghost" href="site/timeline.html">Timeline</a>
                </div>
            </div>
        </div>
    </section>

    <section id="homeInfo" class="grid md:grid-cols-3 gap-4 mt-8">
        <div class="card bg-base-200">
            <div class="card-body">
                <h3 class="card-title">Overview</h3>
                <p id="ovDesc" class="opacity-80"></p>
                <div id="ovLinks" class="mt-2 flex flex-wrap gap-2"></div>
            </div>
        </div>
        <div class="card bg-base-200">
            <div class="card-body">
                <h3 class="card-title">Prerequisites</h3>
                <ul id="ovPre" class="list-disc list-inside"></ul>
            </div>
        </div>
        <div class="card bg-base-200">
            <div class="card-body">
                <h3 class="card-title">Contacts</h3>
                <ul id="ovContact" class="space-y-1 text-sm"></ul>
            </div>
        </div>
    </section>
</main>

<script>
    // Home page script (English-only comments)
    document.addEventListener("DOMContentLoaded", async () => {
        injectBaseLayout("Home");
        const data = await loadData();
        const ov = data.overview || {};
        document.title = ov.title ? (ov.title + " — Home") : "AP — Home";
        document.querySelector(".hero .font-bold").textContent = ov.title || "Advanced Programming (AP)";
        document.querySelector(".hero .opacity-80").textContent = ov.hero?.tagline || ov.subtitle || "Course overview";

        // Overview
        document.getElementById("ovDesc").textContent = ov.description || "";
        const linksBox = document.getElementById("ovLinks");
        (ov.links || []).forEach(x => {
            const a = document.createElement("a");
            a.className = "btn btn-xs";
            a.href = x.href; a.target = "_blank"; a.rel = "noreferrer";
            a.textContent = x.label;
            linksBox.append(a);
        });

        const pre = document.getElementById("ovPre");
        (ov.prerequisites || []).forEach(p=>{
            const li = document.createElement("li"); li.textContent = p; pre.append(li);
        });

        const contact = document.getElementById("ovContact");
        const c = ov.contacts || {};
        Object.entries(c).forEach(([k,v])=>{
            const li = document.createElement("li");
            li.innerHTML = `<span class="font-semibold">${k}:</span> <a class="link" target="_blank" rel="noreferrer" href="${(v||'').startsWith('http')?v:'#'}">${v}</a>`;
            contact.append(li);
        });
    });
</script>
</body>
</html>
